const radioButtonGroupNames = ["AV", "AC", "PR", "UI", "scope", "conf", "integ", "avail", "health", "sens"];

// check if all radio groups are selected and if so remove the warning and update the vulnerability score
function updateScore() {
  let allGroupSelected = true;
  let vulnerabilityScore = 0;
  radioButtonGroupNames.forEach((e) => {
    const radioButtons = document.getElementsByName(e);
    let groupSelected = null;
    for (let i = 0; i < radioButtons.length; i++) {
      if (radioButtons[i].checked) {
        groupSelected = radioButtons[i].value;
        vulnerabilityScore += (i+1)/radioButtons.length;
        break; 
      }
    }
    //if any of radio group is not selected
    if(!groupSelected) {
      allGroupSelected = false;
    }
  });
  // removing the warning and add show vulnerability score
  if(allGroupSelected) {
    const warning = document.getElementById("warning");
    warning.style.display = "none";
    vulnerabilityScore = Math.round(vulnerabilityScore);
    const score = document.getElementById("score");
    score.textContent = vulnerabilityScore;
  }
}

radioButtonGroupNames.forEach((e) => {
  document.addEventListener('change', updateScore);
});

